{% extends 'base.html' %}

{% load markdown_filter %}
{% load staticfiles %}

{% block mainheader %}
    <link rel="stylesheet" href="{% static 'css/github-gist.css' %}">
{% endblock %}

{% block mainbody %}
    <article id="preview" class="markdown-body">
    {{ file_content | markdown | safe}}
    </article>
    <div class="social-share fix-center"></div>
    <div class="ds-thread fix-center"
         data-thread-key="{{request.get_full_path}}"
         data-title={{ object }}
         data-url='http://+{{request.get_host}}{{request.get_full_path}}' ></div>
{% endblock %}

{% block mainfooter %}
    <script src="{% static 'js/highlight.pack.js' %}"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
    <script type="text/javascript">
        var duoshuoQuery = {short_name:"hexiangyu"};
        (function() {
            var ds = document.createElement('script');
            ds.type = 'text/javascript';ds.async = true;
            ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
            ds.charset = 'UTF-8';
            (document.getElementsByTagName('head')[0]
            || document.getElementsByTagName('body')[0]).appendChild(ds);
        })();
    </script>
    <!-- 多说公共JS代码 end -->
    <script src="{% static 'js/social-share.min.js' %}"></script>
{% endblock %}
