{% extends "index.html" %}

{% block mainheader %}
    {% load staticfiles %}
    <link rel="stylesheet" href="{% static 'css/slides.css' %}">
{% endblock %}

{% block middlecontent %}
    <div class="left">
    </div>

    <div class="center">
        <div class="posts">
            {% for post in posts %}
            <div class="post">
                <div class="top">
                    {#<span class="label label-primary">Python</span>#}
                    {#<span class="avatar">L</span>#}
                </div>
                <div class="middle">
                    <h4 class="post-title"><a href="/posts/{{ post.id }}">{{ post.title }}</a></h4>
                </div>
                <div class="bottom">
                    <div class="datetime ps">
                        <i class="iconfont">&#xe600;</i>
                        <span>{{ post.created_at }}</span>
                    </div>
                    <div class="views ps">
                        <i class="iconfont">&#xe601;</i>
                        <span>{{ post.views }}</span>

                    </div>
                    <div class="category ps">
                        <i class="iconfont">&#xe602;</i>
                        <span>{{ post.category.name }}</span>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        <div class="slides">
            <div class="slide">
                <!--默认存在文章分类-->
                <div class="slide-title"><span>文章分类：</span></div>
                <div class="slide-items">
                    {% for category_name, category_number in categories.items %}
                        <div class="slide-item">
                            <a href="?category={{ category_name }}">
                                <span>{{ category_name|title }}</span>
                                <span class="badge pull-right post-counts">{{ category_number }}</span>
                            </a>
                        </div>
                    {% endfor %}
                </div>
            </div>

            {% if open_source_projects %}
            <div class="slide">
                <!--开源项目-->
                <div class="slide-title"><span>我的开源项目：</span></div>
                <div class="slide-items">
                {% for project in open_source_projects %}
                    <div class="slide-item">
                        <a href="{{ project.link }}">
                            <span>{{ project.name }}</span>
                        </a>
                    </div>
                {% endfor %}
                </div>
            </div>
            {% endif %}

            {% if contributed_projects %}
            <div class="slide">
                <!--贡献过的开源项目-->
                <div class="slide-title"><span>我贡献过的开源项目：</span></div>
                <div class="slide-items">
                {% for project in contributed_projects %}
                    <div class="slide-item">
                        <a href="{{ project.link }}">
                            <span>{{ project.name }}</span>
                        </a>
                    </div>
                {% endfor %}
                </div>
            </div>
            {% endif %}

            {% if aboutme %}
            <div class="slide">
                <!--关于我，社交联系方式-->
                <div class="slide-title"><span>关于我：</span></div>
                <div class="slide-items">
                {% for item in aboutme %}
                    <div class="slide-item">
                        <a href="{{ item.link }}">
                            <span>{{ item.item }}</span>
                        </a>
                    </div>
                {% endfor %}
                </div>
            </div>
            {% endif %}

            {% if contact %}
            <div class="slide">
                <!--联系方式-->
                <div class="slide-title"><span>联系方式：</span></div>
                <div class="slide-items">
                {% for info in contact %}
                    <div class="slide-item">
                        <span>{{ info.method }}: {{ info.detail }}</span>
                    </div>
                {% endfor %}
                </div>
            </div>
            {% endif %}
        </div>
    </div>
    <div class="right"></div>

{% endblock %}
